name: Reusable workflow Docker build and push to ECR

on:
  workflow_call:
    inputs:
      ecr_repository:
        required: true
        type: string

jobs:
  docker_build_push_ecr:
    runs-on: ubuntu-latest
    steps:

    - name: Checkout
      uses: actions/checkout@v3

    - name: Build and push the Docker image
      env:
        ECR_REPOSITORY: '${{ inputs.ecr_repository }}'
      run: |
        docker build -t evino/$ECR_REPOSITORY:latest .





